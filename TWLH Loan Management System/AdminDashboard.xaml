<Page x:Class="TWLH_Loan_Management_System.AdminDashboard"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:TWLH_Loan_Management_System"
      xmlns:fa="http://schemas.fontawesome.io/icons/"
      mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="800"
      Title="AdminDashboard" Background="#F0F2F5" Loaded="Page_Loaded">

    <Page.Resources>
        <!-- Card Style -->
        <Style x:Key="MetricCard" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="20"/>
            
        </Style>

        <Style x:Key="MetricTitle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#64748B"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
        </Style>

        <Style x:Key="MetricValue" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#1E293B"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>

        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#1E293B"/>
            <Setter Property="Margin" Value="10,20,10,10"/>
        </Style>
    </Page.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Stats Row 1 -->
                <RowDefinition Height="Auto"/>
                <!-- Section Title -->
                <RowDefinition Height="Auto"/>
                <!-- Stats Row 2 -->
                <RowDefinition Height="*"/>
                <!-- Main Content -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="10,0,10,25">
                <TextBlock Text="Dashboard Overview" FontSize="28" FontWeight="Bold" Foreground="#1E293B"/>
                <TextBlock Text="Welcome back, Administrator. Here's a summary of the system status." FontSize="14" Foreground="#64748B"/>
            </StackPanel>

            <!-- Top Row Stats -->
            <UniformGrid Grid.Row="1" Columns="4">
                <Border Style="{StaticResource MetricCard}" x:Name="brdTotalActiveLoans">
                    <StackPanel>
                        <fa:ImageAwesome Icon="ListAlt" Foreground="#3044FF" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Active Loans" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtTotalActiveLoans" Text="0" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>

                <Border Style="{StaticResource MetricCard}" x:Name="brdTotalLoanAmount">
                    <StackPanel>
                        <fa:ImageAwesome Icon="Money" Foreground="#10B981" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Total Loan Amount" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtTotalLoanAmount" Text="₱ 0.00" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>

                <Border Style="{StaticResource MetricCard}" x:Name="brdTotalClient">
                    <StackPanel>
                        <fa:ImageAwesome Icon="Users" Foreground="#F59E0B" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Total Clients" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtTotalClients" Text="0" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>

                <Border Style="{StaticResource MetricCard}" x:Name="TotalEmployee">
                    <StackPanel>
                        <fa:ImageAwesome Icon="UserCircle" Foreground="#6366F1" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Total Employees" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtTotalEmployees" Text="0" Style="{StaticResource MetricValue}"/>
                        
                    </StackPanel>
                </Border>
            </UniformGrid>

            <!-- Installment Status Section -->
            <TextBlock Grid.Row="2" Text="Installment &amp; Collections" Style="{StaticResource SectionHeader}"/>

            <UniformGrid Grid.Row="3" Columns="3">
                <Border Style="{StaticResource MetricCard}" x:Name="brdPaidInstallments">
                    <StackPanel>
                        <fa:ImageAwesome Icon="CheckCircle" Foreground="#10B981" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Paid Installments" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtPaidInstallments" Text="0" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>

                <Border Style="{StaticResource MetricCard}" x:Name="brdTotalCountPastDue">
                    <StackPanel>
                        <fa:ImageAwesome Icon="ExclamationTriangle" Foreground="#EF4444" Width="24" HorizontalAlignment="Left" Margin="0,0,0,15"/>
                        <TextBlock Text="Past Due Count" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtPastDueCount" Text="0" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>

                <Border Style="{StaticResource MetricCard}" x:Name="brdTotalPasdueAmount">
                    <StackPanel>
                        <fa:ImageAwesome Icon="Dollar" Foreground="#EF4444" Width="21" HorizontalAlignment="Left" Margin="0,0,0,6" Height="26"/>
                        <TextBlock Text="Past Due Amount" Style="{StaticResource MetricTitle}"/>
                        <TextBlock x:Name="txtPastDueAmount" Text="₱ 0.00" Style="{StaticResource MetricValue}"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <!-- Bottom Content -->
            <Grid Grid.Row="4" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1.5*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Style="{StaticResource MetricCard}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Recent Activity" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
                        <!-- Placeholder for Chart or Table -->
                        <Border Grid.Row="1" MinHeight="300" Background="#F8FAFC" CornerRadius="10" BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                <fa:ImageAwesome Icon="BarChart" Foreground="#CBD5E1" Width="48" Margin="0,0,0,10"/>
                                <TextBlock Text="No recent activity to display" Foreground="#94A3B8" FontSize="14"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>

                <Border Grid.Column="1" Style="{StaticResource MetricCard}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Over Due Account" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <StackPanel x:Name="NotificationList">
                                <Border Background="#EFF6FF" Padding="15" CornerRadius="10" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <fa:ImageAwesome Icon="InfoCircle" Foreground="#3B82F6" Width="16" VerticalAlignment="Top" Margin="0,2,10,0"/>
                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="System Update" FontWeight="SemiBold" FontSize="13"/>
                                            <TextBlock Text="The loan management system has been updated to the latest version." 
                                                        Foreground="#64748B" FontSize="12" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
